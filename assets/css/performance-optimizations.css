/**
 * üöÄ CSS –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò
 * –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã
 */

/* === –û–°–ù–û–í–ù–´–ï –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò === */

/* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ */
* {
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* üé® –ü–†–ï–î–û–¢–í–†–ê–©–ï–ù–ò–ï –ë–ï–õ–û–ì–û –§–û–ù–ê –ü–†–ò –ó–ê–ì–†–£–ó–ö–ï */
html {
    background: var(--color-bg, #0a0a0f);
    transition: background-color 0.3s ease;
}

body {
    background: var(--color-bg, #0a0a0f);
    margin: 0;
    padding: 0;
    min-height: 100vh;
    transition: background-color 0.3s ease;
}

/* üéØ –ê–î–ê–ü–¢–ò–í–ù–´–ô –§–û–ù –î–õ–Ø –†–ê–ó–ù–´–• –¢–ï–ú */
.theme-dark {
    --color-bg: #0a0a0f;
    --color-bg-gradient: linear-gradient(135deg, #0f0f15, #1a1a2a, #2a1f3a, #1a1a2a);
}

.theme-light {
    --color-bg: #E8D5C4;
    --color-bg-gradient: linear-gradient(135deg, #F0E6D8, #E8D5C4, #E0C8B8, #F0E6D8);
}

/* üåü –£–õ–£–ß–®–ï–ù–ù–´–ô –§–û–ù –° –ì–†–ê–î–ò–ï–ù–¢–û–ú */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--color-bg-gradient, var(--color-bg));
    z-index: -2;
    transition: background 0.3s ease;
}

/* üé® –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –≠–§–§–ï–ö–¢–´ –§–û–ù–ê */
body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at 20% 80%, rgba(139, 95, 191, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(184, 169, 232, 0.1) 0%, transparent 50%);
    z-index: -1;
    opacity: 0.6;
    transition: opacity 0.3s ease;
}

/* üåô –¢–ï–ú–ù–ê–Ø –¢–ï–ú–ê - –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –≠–§–§–ï–ö–¢–´ */
.theme-dark body::after {
    background: radial-gradient(circle at 20% 80%, rgba(139, 95, 191, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(184, 169, 232, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(107, 92, 182, 0.05) 0%, transparent 70%);
}

/* ‚òÄÔ∏è –°–í–ï–¢–õ–ê–Ø –¢–ï–ú–ê - –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –≠–§–§–ï–ö–¢–´ */
.theme-light body::after {
    background: radial-gradient(circle at 20% 80%, rgba(255, 138, 101, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 193, 166, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(255, 138, 101, 0.05) 0%, transparent 70%);
}

/* üöÄ –ü–†–ï–î–ó–ê–ì–†–£–ó–ö–ê –¢–ï–ú–´ –ò–ó LOCALSTORAGE */
.theme-preload {
    background: var(--color-bg, #0a0a0f);
}

/* üì± –ú–û–ë–ò–õ–¨–ù–´–ï –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò */
@media (max-width: 768px) {
    body::after {
        opacity: 0.3;
    }
}

/* ‚ö° –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –î–õ–Ø –ú–ï–î–õ–ï–ù–ù–´–• –°–û–ï–î–ò–ù–ï–ù–ò–ô */
.slow-connection body::after {
    display: none;
}

/* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–π */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* –ú–µ–¥–ª–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ */
.slow-connection * {
    animation-duration: 0.1s !important;
    transition-duration: 0.1s !important;
}

.slow-connection .particle-canvas,
.slow-connection .die:nth-child(n+4) {
    display: none !important;
}

/* –£–º–µ–Ω—å—à–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ */
.reduced-motion * {
    animation: none !important;
    transition: none !important;
}

/* === –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô === */

/* Lazy loading –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
img[loading="lazy"] {
    opacity: 0;
    transition: opacity 0.3s ease;
}

img[loading="lazy"].loaded {
    opacity: 1;
}

/* Placeholder –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
img:not([src]) {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
}

/* === –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –®–†–ò–§–¢–û–í === */

/* Fallback —à—Ä–∏—Ñ—Ç—ã */
.font-fallback {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —à—Ä–∏—Ñ—Ç–æ–≤ */
@font-face {
    font-family: 'Inter';
    font-display: swap;
    src: url('../fonts/Inter-Regular.woff2') format('woff2');
}

/* === –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ê–ù–ò–ú–ê–¶–ò–ô === */

/* Hardware acceleration */
.animate-hardware {
    transform: translateZ(0);
    will-change: transform;
}

/* –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

/* === –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò === */

/* –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫—Ä–æ–ª–ª–∞ */
.virtual-scroll {
    contain: layout style paint;
}

/* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ */
.optimize-render {
    contain: layout;
    content-visibility: auto;
}

/* === –ê–î–ê–ü–¢–ò–í–ù–´–ï –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò === */

/* –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ */
@media (max-width: 768px) {
    .mobile-optimize {
        transform: translateZ(0);
        -webkit-transform: translateZ(0);
    }
    
    .mobile-optimize * {
        animation-duration: 0.2s !important;
        transition-duration: 0.2s !important;
    }
}

/* –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å */
.low-performance .particle-canvas,
.low-performance .die:nth-child(n+3) {
    display: none !important;
}

.low-performance * {
    animation-duration: 0.1s !important;
    transition-duration: 0.1s !important;
}

/* === –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ü–ê–ú–Ø–¢–ò === */

/* –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å—Ç–∏–ª–µ–π */
.unused {
    display: none !important;
}

/* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ */
.optimize-size {
    max-width: 100%;
    height: auto;
}

/* === –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –°–¢–ò–õ–ò === */

/* Above the fold */
.above-fold {
    contain: layout style paint;
    content-visibility: auto;
}

/* –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ */
.critical-animation {
    animation-fill-mode: both;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* === –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –°–ï–¢–ò === */

/* –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ */
.preload-resource {
    display: none;
}

/* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ */
.loading-optimized {
    opacity: 0;
    transition: opacity 0.3s ease;
}

.loading-optimized.loaded {
    opacity: 1;
}
